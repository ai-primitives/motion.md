import { describe, it, expect, beforeEach, afterEach, vi } from "vitest"\nimport { BrowserService } from "./browser"\n\nvi.mock("browserbase", () => ({\n  Browser: vi.fn().mockImplementation(() => ({\n    newPage: vi.fn().mockResolvedValue({\n      setViewport: vi.fn(),\n      goto: vi.fn(),\n      screenshot: vi.fn().mockResolvedValue(Buffer.from("test")),\n      close: vi.fn()\n    }),\n    close: vi.fn()\n  }))\n}))\n\ndescribe("BrowserService", () => {\n  let service: BrowserService\n\n  beforeEach(() => {\n    service = new BrowserService()\n  })\n\n  afterEach(async () => {\n    await service.cleanup()\n  })\n\n  it("should capture screenshot", async () => {\n    const screenshot = await service.capture("https://example.com", {\n      width: 1920,\n      height: 1080\n    })\n    expect(screenshot).toBeDefined()\n  })\n})
